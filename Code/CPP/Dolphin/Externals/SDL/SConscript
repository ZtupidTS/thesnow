# -*- python -*-

Import('env')
import sys

files = [
	'src/SDL.c',
	'src/SDL_error.c',
	'src/SDL_fatal.c',
	'src/joystick/SDL_joystick.c',
	]

if sys.platform.count('bsd'):
	files += [
		'src/joystick/bsd/SDL_sysjoystick.c',
		'src/stdlib/SDL_malloc.c',
		'src/stdlib/SDL_string.c',
		]
elif sys.platform == 'darwin':
	files += [
		'src/joystick/darwin/SDL_sysjoystick.c',
		]
elif sys.platform == 'linux2':
	files += [
		'src/joystick/linux/SDL_sysjoystick.c',
		'src/stdlib/SDL_string.c',
		]
elif sys.platform == 'win32':
	files += [
		'src/joystick/win32/SDL_mmjoystick.c',
		]
else:
	files += [
		'src/joystick/dummy/SDL_sysjoystick.c',
		]

env.StaticLibrary(env['local_libs'] + "SDL", files)
