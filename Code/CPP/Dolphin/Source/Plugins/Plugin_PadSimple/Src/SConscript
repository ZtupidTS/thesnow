# -*- python -*-

Import('env')
import sys

name = "Plugin_PadSimple"

if not env['HAVE_X11']:
    if not env['HAVE_COCOA']:
        print name + " must have X11 to be built"
        Return()


files = [
	"PadSimple.cpp",
	]
padenv = env.Clone()


if padenv['HAVE_COCOA']:
    compileFlags = [
        '-x',
        'objective-c++',
        ]

if padenv['HAVE_WX']:
    files += [
        "GUI/ConfigDlg.cpp",
        ]

if padenv['HAVE_COCOA']:
	padenv.Append(	CXXFLAGS = compileFlags,
			LIBS = [ 'common' ])
	padenv['FRAMEWORKS'] = ['Cocoa', 'System']

else:
	padenv.Append(LIBS = [ 'common', 'inputcommon' ])

padenv.SharedLibrary(env['plugin_dir']+name, files)
